{%- comment -%}
  Accordion Snippet
  Usage:
  {% render 'accordion', trigger: 'Shipping & Returns', body: '<p>We ship worldwide…</p>' %}
  {% render 'accordion', trigger: 'FAQ', body: section.settings.faq_richtext, open: true, id: 'faq-1' %}

  Props:
  - trigger: string (required) — visible summary text/HTML
  - body: string (optional) — HTML content to show when expanded
  - open: boolean (optional) — default closed
  - show_specs: boolean (optional) — default false
  - id: string (optional) — anchor id on the <details>
{%- endcomment -%}

{%- assign _open = open | default: false -%}
{%- assign _id = id | default: nil -%}
{%- assign _show_specs = show_specs | default: false -%}

<details
  class="accordion group border-b border-zinc-200 py-3"
  {% if _open %}
  open{% endif %}
  {% if _id %}
  id="{{ _id }}"
  {% endif %}>
  <summary class="flex items-center justify-between cursor-pointer select-none text-zinc-800 hover:text-zinc-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-black/30">
    <span class="pr-4">
      {{- trigger -}}
    </span>
    <span class="ml-auto inline-flex items-center justify-center shrink-0 transition-transform duration-200 group-open:rotate-180" aria-hidden="true">
      <!-- Chevron icon -->
      <svg
        width="16"
        height="16"
        viewBox="0 0 20 20"
        fill="none"
        class="text-zinc-600">
        <path
          d="M5 8l5 5 5-5"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round" />
      </svg>
    </span>
  </summary>

  <div class="mt-3 text-sm leading-relaxed text-zinc-700">
    {{- body -}}
    {% if _show_specs %}
      {% render 'product-specs'
        , product: product
      %}
    {% endif %}
  </div>
</details>

<style>
  /* Optional: improve summary tap target and remove default marker */
  details.accordion > summary {
    list-style: none;
  }
  details.accordion > summary::-webkit-details-marker {
    display: none;
  }
</style>