{% schema %}
{
  "name": "Footer",
  "tag": "section",
  "settings": [],
  "blocks": [
    {
      "type": "links",
      "name": "Links",
      "settings": [
        {
          "type": "link_list",
          "id": "link_list",
          "label": "Link list"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Quick Links"
        }
      ]
    },
    {
      "type": "newsletter",
      "name": "Newsletter Signup",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Subscribe to our newsletter"
        }
      ]
    },
    {
      "type": "social",
      "name": "Social Links",
      "settings": [
        {
          "type": "checkbox",
          "id": "show_facebook",
          "label": "Show Facebook icon",
          "default": true
        },
        {
          "type": "url",
          "id": "facebook_url",
          "label": "Facebook URL"
        },
        {
          "type": "checkbox",
          "id": "show_twitter",
          "label": "Show Twitter icon",
          "default": true
        },
        {
          "type": "url",
          "id": "twitter_url",
          "label": "Twitter URL"
        },
        {
          "type": "checkbox",
          "id": "show_instagram",
          "label": "Show Instagram icon",
          "default": true
        },
        {
          "type": "url",
          "id": "instagram_url",
          "label": "Instagram URL"
        },
        {
          "type": "checkbox",
          "id": "show_pinterest",
          "label": "Show Pinterest icon",
          "default": false
        },
        {
          "type": "url",
          "id": "pinterest_url",
          "label": "Pinterest URL"
        }
      ]
    },
    {
      "type": "custom",
      "name": "Custom Content",
      "settings": [
        {
          "type": "textarea",
          "id": "custom_html",
          "label": "Custom HTML content",
          "default": "<p>Insert any custom content here.</p>"
        }
      ]
    }
  ],
  "max_blocks": 6,
  "presets": [
    {
      "name": "Footer",
      "category": "Footer"
    }
  ]
}
{% endschema %}

<footer class="bg-gray-900 text-gray-200 px-6 py-12">
  <div class="max-w-7xl mx-auto grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-8">
    {% for block in section.blocks %}
      {% case block.type %}
        {% when 'links' %}
          <div>
            <h3 class="mb-4 text-lg font-semibold text-white">{{ block.settings.title }}</h3>
            {% assign menu = linklists[block.settings.link_list] %}
            {% if menu.links != blank %}
              <ul>
                {% for link in menu.links %}
                  <li class="mb-2">
                    <a href="{{ link.url }}" class="hover:text-indigo-400 transition">{{ link.title }}</a>
                  </li>
                {% endfor %}
              </ul>
            {% else %}
              <p>No links added.</p>
            {% endif %}
          </div>

        {% when 'newsletter' %}
          <div>
            <h3 class="mb-4 text-lg font-semibold text-white">{{ block.settings.title }}</h3>
            <form method="post" action="/contact#ContactFooter" accept-charset="UTF-8" class="flex flex-col sm:flex-row gap-4">
              <input type="hidden" name="form_type" value="customer">
              <input type="email" name="contact[email]" placeholder="Your email address" required class="p-3 rounded-md text-gray-900 flex-grow focus:outline-none focus:ring-2 focus:ring-indigo-400">
              <button type="submit" class="bg-indigo-600 hover:bg-indigo-700 transition px-5 py-3 rounded-md font-semibold text-white">Subscribe</button>
            </form>
          </div>

        {% when 'social' %}
          <div>
            <h3 class="mb-4 text-lg font-semibold text-white">Follow Us</h3>
            <div class="flex space-x-4">
              {% if block.settings.show_facebook and block.settings.facebook_url != blank %}
                <a href="{{ block.settings.facebook_url }}" target="_blank" class="hover:text-indigo-400" aria-label="Facebook" rel="noopener noreferrer" >
                  <svg class="w-6 h-6 fill-current" viewBox="0 0 24 24" ><path d="M22 12a10 10 0 1 0-11.5 9.9v-7h-2v-3h2v-2.3c0-2 1.2-3.1 3-3.1.87 0 1.8.16 1.8.16v2h-1c-1 0-1.3.6-1.3 1.2V12h2.2l-.35 3h-1.8v7A10 10 0 0 0 22 12"></path></svg>
                </a>
              {% endif %}
              {% if block.settings.show_twitter and block.settings.twitter_url != blank %}
                <a href="{{ block.settings.twitter_url }}" target="_blank" class="hover:text-indigo-400" aria-label="Twitter" rel="noopener noreferrer">
                  <svg class="w-6 h-6 fill-current" viewBox="0 0 24 24"><path d="M23 3a10.9 10.9 0 0 1-3.14.86A5.48 5.48 0 0 0 22.4.36a10.89 10.89 0 0 1-3.47 1.32A5.46 5.46 0 0 0 16.15 0a5.5 5.5 0 0 0-5.47 5.5c0 .43.05.85.14 1.25A15.62 15.62 0 0 1 1.67 1.15a5.48 5.48 0 0 0 1.7 7.35 5.42 5.42 0 0 1-2.48-.68v.06a5.5 5.5 0 0 0 4.4 5.4 5.47 5.47 0 0 1-2.47.1 5.51 5.51 0 0 0 5.13 3.83A11 11 0 0 1 1 19.54a15.55 15.55 0 0 0 8.41 2.46c10.08 0 15.6-8.35 15.6-15.6 0-.24 0-.47-.02-.7A11.18 11.18 0 0 0 23 3z"/></svg>
                </a>
              {% endif %}
              {% if block.settings.show_instagram and block.settings.instagram_url != blank %}
                <a href="{{ block.settings.instagram_url }}" target="_blank" class="hover:text-indigo-400" aria-label="Instagram" rel="noopener noreferrer">
                  <svg class="w-6 h-6 fill-current" viewBox="0 0 24 24"><path d="M7 2C4.243 2 2 4.243 2 7v10c0 2.757 2.243 5 5 5h10c2.757 0 5-2.243 5-5V7c0-2.757-2.243-5-5-5H7zm10 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM12 7a5 5 0 1 1 0 10 5 5 0 0 1 0-10zm0 2a3 3 0 1 0 0 6 3 3 0 0 0 0-6z"/></svg>
                </a>
              {% endif %}
              {% if block.settings.show_pinterest and block.settings.pinterest_url != blank %}
                <a href="{{ block.settings.pinterest_url }}" target="_blank" class="hover:text-indigo-400" aria-label="Pinterest" rel="noopener noreferrer">
                  <svg class="w-6 h-6 fill-current" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12c0 4.91 3.66 8.94 8.41 9.83-.12-1.49-.22-3.78.05-5.39.24-1.38 1.55-8.83 1.55-8.83s-.39-.77-.39-1.9c0-1.78 1.03-3.11 2.3-3.11 1.08 0 1.6.81 1.6 1.78 0 1.09-.69 2.71-1.05 4.22-.3 1.27.63 2.3 1.87 2.3 2.24 0 3.75-2.88 3.75-6.28 0-2.58-1.74-4.51-5.32-4.51-3.88 0-6.31 2.9-6.31 5.9 0 1.18.45 2.44 1 3.13.11.13.13.25.1.38-.11.42-.35 1.34-.4 1.53-.06.23-.22.28-.5.17-1.86-.85-3.02-3.59-3.02-5.79 0-4.72 3.43-9.06 9.9-9.06 5.18 0 9.2 3.73 9.2 8.72 0 5.21-3.29 9.41-7.87 9.41-1.54 0-3-.9-3.5-1.92l-.95 3.6c-.34 1.28-1.28 2.89-1.9 3.87 1.42.44 2.92.68 4.48.68 5.52 0 10-4.48 10-10s-4.48-10-10-10z"/></svg>
                </a>
              {% endif %}
            </div>
          </div>

        {% when 'custom' %}
          <div class="prose prose-invert max-w-none" >
            {{ block.settings.custom_html | raw }}
          </div>
      {% endcase %}
    {% endfor %}
  </div>

  <div class="mt-12 border-t border-gray-700 pt-6 text-center text-sm text-gray-500">
    Â© {{ 'now' | date: '%Y' }} {{ shop.name }}. All rights reserved.
  </div>
</footer>
